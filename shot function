#get valid input function reduces repetition and cleans up functions by filtering user input, shot func add/removes shots and strokes until reaching green, then putt function adds putts and strokes, play hole function plays a single hole.
def get_input(prompt, options):
    while True:
        try:
            result = int(input(prompt))
            if result in options:
                return result
            print('Please enter a valid number 1-6')
        except ValueError:
            print('Please enter a valid number 1-6')

def shot_func(shots = None, strokes = None):
    if shots is None:
        shots = {}
    if strokes is None:
        strokes = []
    options = ['green', 'fairway', 'rough', 'hazard', 'heavy stuff']
    total = 0
    result = None
    while True:
        result = get_input('\n\nHitting shot...\n'
        '''\nFor shot result enter...\n \n1 for green
        \n2 for fairway
        \n3 for rough
        \n4 for hazard
        \n5 for heavy stuff
        \n6 to remove last shot\n''', range(1,7))

        if result == 6:
            if shots:
                removed_shot = shots.popitem()
                removed_strokes = strokes.pop()
                print(f'Removing previous shot: {removed_shot} and strokes: {removed_strokes}'.format(removed_shot, removed_strokes))
            else:
                print('You do not currently have any shots.')
        else:
            lie = options[result-1]
            print(f'You hit the {lie}\n')
            club = input('Which club did you hit? ')
            distance = input(f'How far did your {club} go? ')
            if result == 1:
                shots[club] = [distance, lie, 1]
                strokes.append(1)
                break

            elif result in [2, 3, 5]:
                stroke = 1
                strokes.append(1)
            else:
                strokes.append(2)
                stroke = 2
            shots[club] = [distance, lie, stroke]

        

    return shots, sum(strokes)  


def putt_func():
    try:
        putts = int(input('How many putts did you have? '))
        return {'putter': putts}, putts
    except ValueError: 
            print('\n***Please enter a valid number***')
            return putt_func()

def play_hole():
    shots, strokes = shot_func()  
    putts, putter_strokes = putt_func()
    shots.update(putts)
    strokes += putter_strokes

    return print(f'Your score was: {strokes} and your hole looked like: {shots}')

play_hole()
